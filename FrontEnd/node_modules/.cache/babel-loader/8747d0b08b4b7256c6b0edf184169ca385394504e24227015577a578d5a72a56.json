{"ast":null,"code":"var _jsxFileName = \"/Users/youssoufyogue/Desktop/All/hr-client-management/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport Login from '../src/components/Login/Login';\nimport Signup from '../src/components/Signup/Signup';\nimport EmployeeList from '../src/components/EmployeeList/EmployeeList';\nimport { getAllHR, getAllEmployees } from '../src/services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(() => {\n    const storedUser = localStorage.getItem('user');\n    return storedUser ? JSON.parse(storedUser) : null;\n  });\n  const handleLogin = userData => {\n    localStorage.setItem('user', JSON.stringify(userData));\n    setUser(userData);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n  };\n  const [hrs, setHrs] = useState([]);\n  const [employees, setEmployees] = useState([]);\n  useEffect(() => {\n    const fetchHRs = async () => {\n      const response = await getAllHR();\n      setHrs(response.data.hrs);\n    };\n    fetchHRs();\n    const fetchEmployees = async () => {\n      const response = await getAllEmployees();\n      setEmployees(response.data.employees);\n    };\n    fetchEmployees();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: !user ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 28\n        }, this) : /*#__PURE__*/_jsxDEV(Dashboard, {\n          user: user,\n          onLogout: handleLogout,\n          hrs: hrs,\n          employees: employees\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n// Dashboard component\n_s(App, \"ClG4s0qlPVgu9aNOZHfCNlFiY14=\");\n_c = App;\nconst Dashboard = ({\n  user,\n  onLogout,\n  hrs,\n  employees\n}) => {\n  const handleLogout = () => {\n    onLogout();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EmployeeList, {\n      employees: employees\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), user.role === 'client' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"HRs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: hrs.map(hr => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: `${hr.nom} ${hr.postNom} ${hr.preNom}`\n        }, hr._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_c2 = Dashboard;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Navigate","Login","Signup","EmployeeList","getAllHR","getAllEmployees","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","storedUser","localStorage","getItem","JSON","parse","handleLogin","userData","setItem","stringify","handleLogout","removeItem","hrs","setHrs","employees","setEmployees","fetchHRs","response","data","fetchEmployees","children","path","element","to","fileName","_jsxFileName","lineNumber","columnNumber","Dashboard","onLogout","onLogin","_c","onClick","role","map","hr","nom","postNom","preNom","_id","_c2","$RefreshReg$"],"sources":["/Users/youssoufyogue/Desktop/All/hr-client-management/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport Login from '../src/components/Login/Login';\nimport Signup from '../src/components/Signup/Signup';\nimport EmployeeList from '../src/components/EmployeeList/EmployeeList';\nimport { getAllHR, getAllEmployees } from '../src/services/api'; \n\nfunction App() {\n  const [user, setUser] = useState(() => {\n    const storedUser = localStorage.getItem('user');\n    return storedUser ? JSON.parse(storedUser) : null;\n  });\n\n  const handleLogin = (userData) => {\n    localStorage.setItem('user', JSON.stringify(userData));\n    setUser(userData);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n  };\n\n  const [hrs, setHrs] = useState([]);\n  const [employees, setEmployees] = useState([]);\n\n  useEffect(() => {\n    const fetchHRs = async () => {\n      const response = await getAllHR();\n      setHrs(response.data.hrs);\n    };\n    fetchHRs();\n\n    const fetchEmployees = async () => {\n      const response = await getAllEmployees();\n      setEmployees(response.data.employees);\n    };\n    fetchEmployees();\n  }, []);\n\n  return (\n    <Router>\n      <Routes>\n        <Route\n          path=\"/\"\n          element={!user ? <Navigate to=\"/login\" /> : <Dashboard user={user} onLogout={handleLogout} hrs={hrs} employees={employees} />}\n        />\n        <Route path=\"/login\" element={<Login onLogin={handleLogin} />} />\n        <Route path=\"/signup\" element={<Signup />} />\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\n      </Routes>\n    </Router>\n  );\n}\n\n// Dashboard component\nconst Dashboard = ({ user, onLogout, hrs, employees }) => {\n  const handleLogout = () => {\n    onLogout();\n  };\n\n  return (\n    <div>\n      <h1>Dashboard</h1>\n      <button onClick={handleLogout}>Logout</button>\n\n      <EmployeeList employees={employees} />\n\n      {user.role === 'client' && (\n        <>\n          <h2>HRs</h2>\n          <ul>\n            {hrs.map((hr) => (\n              <li key={hr._id}>{`${hr.nom} ${hr.postNom} ${hr.preNom}`}</li>\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}